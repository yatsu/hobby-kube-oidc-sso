settings:
  reverseDelete: true

namespaces:
  rook-ceph-system:
    protected: false
    installTiller: false
  rook-ceph:
    protected: false
    installTiller: false
  ambassador:
    protected: false
    installTiller: false
    labels:
      certmanager.k8s.io/disable-validation: "true"
  postgresql:
    protected: false
    installTiller: false
  redis:
    protected: false
    installTiller: false
  keycloak:
    protected: false
    installTiller: false

helmRepos:
  stable: https://kubernetes-charts.storage.googleapis.com
  rook-stable: https://charts.rook.io/stable
  jetstack: https://charts.jetstack.io

apps:
  rook-ceph-system:
    namespace: rook-ceph-system
    enabled: true
    chart: rook-stable/rook-ceph
    version: v0.9.3
    name: rook-ceph-system
    priority: -20
    wait: true

  rook-ceph-cluster:
    namespace: rook-ceph
    enabled: true
    chart: ./rook-ceph-cluster
    version: 0.1.0
    name: rook-ceph-cluster
    priority: -19
    wait: true

  rook-ceph-block:
    namespace: rook-ceph
    enabled: true
    chart: ./rook-ceph-block
    version: 0.1.0
    name: rook-ceph-block
    priority: -18
    wait: true

  cert-manager-crds:
    namespace: ambassador
    enabled: true
    chart: ./cert-manager-crds
    version: 0.1.1
    name: cert-manager-crds
    priority: -17
    wait: true
    valuesFile: ./cert-manager-values.yaml

  cert-manager:
    namespace: ambassador
    enabled: true
    chart: jetstack/cert-manager
    version: v0.7.1
    name: cert-manager
    priority: -16
    wait: true

  ambassador-certs:
    namespace: ambassador
    enabled: true
    chart: ./ambassador-certs
    version: 0.1.0
    name: ambassador-certs
    priority: -15
    wait: true
    set:
      acmeEmail: $ACME_EMAIL
      domain: $DOMAIN
      cloudflare.email: $CLOUDFLARE_EMAIL
      cloudflare.apiKey: $CLOUDFLARE_APIKEY

  ambassador:
    namespace: ambassador
    enabled: true
    # chart: ./ambassador
    chart: stable/ambassador
    version: 2.2.2
    name: ambassador
    priority: -14
    wait: false
    valuesFile: ./ambassador-values.yaml
    setString:
      namespace.name: ambassador

  postgresql-pvc:
    namespace: postgresql
    enabled: true
    chart: ./postgresql-pvc
    version: 0.1.0
    name: postgresql-pvc
    priority: -17
    wait: true
    timeout: 1200

  postgresql:
    namespace: postgresql
    enabled: true
    chart: stable/postgresql
    version: 3.18.3
    name: postgresql
    priority: -16
    wait: true
    valuesFile: ./postgresql-values.yaml

  redis-pvc:
    namespace: redis
    enabled: true
    chart: ./redis-pvc
    version: 0.1.0
    name: redis-pvc
    priority: -17
    wait: true
    timeout: 1200

  redis:
    namespace: redis
    enabled: true
    chart: stable/redis
    version: 7.0.0
    name: redis
    priority: -16
    wait: true
    valuesFile: ./redis-values.yaml

  keycloak:
    namespace: keycloak
    enabled: true
    chart: stable/keycloak
    version: 4.10.1
    name: keycloak
    priority: -13
    wait: true
    valuesFile: ./keycloak-values.yaml
    setString:
      clusterDomain: $DOMAIN
      keycloak.password: $KEYCLOAK_PASSWORD
