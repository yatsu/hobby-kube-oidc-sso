settings:
  reverseDelete: true

namespaces:
  rook-ceph-system:
    protected: false
    installTiller: false
  rook-ceph:
    protected: false
    installTiller: false
  ambassador:
    protected: false
    installTiller: false
    labels:
      certmanager.k8s.io/disable-validation: "true"
  auth:
    protected: false
    installTiller: false
  postgresql:
    protected: false
    installTiller: false
  redis:
    protected: false
    installTiller: false
  keycloak:
    protected: false
    installTiller: false
  foo:
    protected: false
    installTiller: false
  bar:
    protected: false
    installTiller: false

helmRepos:
  stable: https://kubernetes-charts.storage.googleapis.com
  rook-stable: https://charts.rook.io/stable
  jetstack: https://charts.jetstack.io

apps:
  rook-ceph-system:
    namespace: rook-ceph-system
    enabled: true
    chart: rook-stable/rook-ceph
    version: v0.9.3
    name: rook-ceph-system
    priority: -20
    wait: true

  rook-ceph-cluster:
    namespace: rook-ceph
    enabled: true
    chart: ./rook-ceph-cluster
    version: 0.1.0
    name: rook-ceph-cluster
    priority: -19
    wait: true

  rook-ceph-block:
    namespace: rook-ceph
    enabled: true
    chart: ./rook-ceph-block
    version: 0.1.0
    name: rook-ceph-block
    priority: -18
    wait: true

  cert-manager-crds:
    namespace: ambassador
    enabled: true
    chart: ./cert-manager-crds
    version: 0.1.1
    name: cert-manager-crds
    priority: -17
    wait: true
    valuesFile: ./cert-manager-values.yaml

  cert-manager:
    namespace: ambassador
    enabled: true
    chart: jetstack/cert-manager
    version: v0.7.1
    name: cert-manager
    priority: -16
    wait: true

  ambassador-certs:
    namespace: ambassador
    enabled: true
    chart: ./ambassador-certs
    version: 0.1.0
    name: ambassador-certs
    priority: -15
    wait: true
    set:
      acmeEmail: $ACME_EMAIL
      domain: $DOMAIN
      cloudflare.email: $CLOUDFLARE_EMAIL
      cloudflare.apiKey: $CLOUDFLARE_APIKEY

  ambassador:
    namespace: ambassador
    enabled: true
    chart: stable/ambassador
    version: 2.2.2
    name: ambassador
    priority: -14
    wait: false
    valuesFile: ./ambassador-values.yaml

  postgresql-pvc:
    namespace: postgresql
    enabled: true
    chart: ./postgresql-pvc
    version: 0.1.0
    name: postgresql-pvc
    priority: -17
    wait: true
    timeout: 1200

  postgresql:
    namespace: postgresql
    enabled: true
    chart: stable/postgresql
    version: 3.18.3
    name: postgresql
    priority: -16
    wait: true
    valuesFile: ./postgresql-values.yaml

  redis-pvc:
    namespace: redis
    enabled: true
    chart: ./redis-pvc
    version: 0.1.0
    name: redis-pvc
    priority: -17
    wait: true
    timeout: 1200

  redis:
    namespace: redis
    enabled: true
    chart: stable/redis
    version: 7.0.0
    name: redis
    priority: -16
    wait: true
    valuesFile: ./redis-values.yaml

  keycloak:
    namespace: keycloak
    enabled: true
    chart: stable/keycloak
    version: 4.10.1
    name: keycloak
    priority: -13
    wait: true
    timeout: 600
    valuesFile: ./keycloak-values.yaml
    setString:
      keycloak.username: $KEYCLOAK_USERNAME
      keycloak.password: $KEYCLOAK_PASSWORD

  a8r-oidc-auth-service:
    namespace: auth
    enabled: true
    chart: ./a8r-oidc-auth-service
    version: 0.1.0
    name: a8r-oidc-auth-service
    priority: -12
    wait: true
    valuesFile: ./a8r-oidc-auth-service-values.yaml
    setString:
      topUrl: https://$DOMAIN
      oidc.provider: $OIDC_PROVIDER
      oidc.clientId: $OIDC_CLIENT_ID
      oidc.redirectUri: https://$DOMAIN/oidc/callback
      sessionSecret: $SESSION_SECRET
      clusterName: $CLUSTER_NAME
      kubeApiUrl: https://$DOMAIN
      kubectlContext: $KUBECTL_CONTEXT
      kubectlPagePath: /
      title: $CLUSTER_NAME
      debug: $OIDC_DEBUG

  a8r-oidc-auth-service-activation:
    namespace: auth
    enabled: true
    chart: ./a8r-oidc-auth-service-activation
    version: 0.1.0
    name: a8r-oidc-auth-service-activation
    priority: -11
    wait: false
    setString:
      domain: $DOMAIN
      kubectlPagePath: /
      kubectlAssetsPath: /assets

  example-foo:
    namespace: foo
    enabled: true
    chart: ./example-app
    version: 0.1.0
    name: example-foo
    priority: -12
    wait: false
    valuesFile: ./example-foo-values.yaml

  example-bar:
    namespace: bar
    enabled: true
    chart: ./example-app
    version: 0.1.0
    name: example-bar
    priority: -12
    wait: false
    valuesFile: ./example-bar-values.yaml
